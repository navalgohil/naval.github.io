	<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>NG</title>
	<link href="CSS/bootstrap.min.css" rel="stylesheet">
	<link href="CSS/bootstrap-theme.min.css" rel="stylesheet">
	<link href="CSS/mystyle.css" rel="stylesheet">
	<link href="CSS/font-awesome.min.css" rel="stylesheet">
	<link href="CSS/bootstrap-social.css" rel="stylesheet"> 	

</head>
<body>

<!--=============================================================== NAVBAR =============================================================== -->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<a class="navbar-brand" href="master.html">NavalGohil</a>
			<button type="button" class="navbar-toggle collapsed"
				data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-control="navbar" >
				<span class="sr-only">Toggle Navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
		</div>
		<div id="navbar" class="navbar-collapse collapse">
			<ul class="nav navbar-nav">
				<li  class="active"><a href="master.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Home</a></li>
				<li><a onclick="window.open('https://html-online.com/editor/');" target="_blank">Editor</a></li>
				<li><a href="contact.html">Contact</a></li>					
			</ul>
		 </div>
	</div> <!-- container -->
</nav>

<!--=============================================================== HEADER =============================================================== -->

<!--=============================================================== MAIN BODY =============================================================== -->
<div class="container">
<h1>Income Tax Calculator</h1>

<form role="form">

<div class="panel panel-primary">
	<div class="panel-heading">
		Income Details
	</div>
	<div class="panel-body">
			<div class="row">
				<div class="col-lg-4">
					<div class="form-group">
						<label>Income from Salary   <a href="#" data-toggle="tooltip" title="Salary before reducing exemptions (HRA, LTA), standard deduction & professional tax!"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency"  id="input1" class="form-control">
					</div>							
				 </div>	
				<div class="col-lg-4">
					<div class="form-group">
						<label>Exemptions & Deductions from Salary   <a href="#" data-toggle="tooltip" title="HRA, LTA, Standard Deduction, etc."><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="input2" class="form-control">
					</div>							
				 </div>	
				 <div class="col-lg-4">
					<div class="form-group">
						<label>Income from Interest   <a href="#" data-toggle="tooltip" title="Includes interest from savings bank, deposits and other interest"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency"  id="input3" class="form-control">
					</div>							
				 </div>			
			</div>
			<div class="row">
				<div class="col-lg-4">
					<div class="form-group">
						<label>Other Income   <a href="#" data-toggle="tooltip" title="Includes taxable freelancing income or any other taxable income"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="input4" class="form-control">
					</div>							
				 </div>	
				<div class="col-lg-4">
					<div class="form-group">
						<label>Interest Paid on Home Loan   <a href="#" data-toggle="tooltip" title="Interest paid on housing loan taken for self-occupied property"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="input5" class="form-control">
					</div>							
				 </div>	
				 <div class="col-lg-4">
					<div class="form-group">
						<label>Rental Income Received   <a href="#" data-toggle="tooltip" title="Annual rent received on let-out property"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="input6" class="form-control">
					</div>							
				 </div>		
			</div>
			<div class="row">
				<div class="col-lg-4">
					<div class="form-group">
						<label>Interest Paid on Loan   <a href="#" data-toggle="tooltip" title="Interest paid on housing loan taken for rented/let-out property"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="input7" class="form-control">
					</div>							
				 </div>	
				<div class="col-lg-4">
					<div class="form-group">
						<label>Income from Digital Assets   <a href="#" data-toggle="tooltip" title="Net Income from Digital Assets, taxed at 30%"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="input8" class="form-control">
					</div>							
				 </div>	
				 <div class="col-lg-4">
											
				 </div>			
			</div>
	</div>
</div><!-- panel 1 -->
<div class="panel panel-primary">
	<div class="panel-heading">
		Deductions
	</div>
	<div class="panel-body">
			<div class="row">
				<div class="col-lg-4">
					<div class="form-group">
						<label>Basic Deductions - 80C   <a href="#" data-toggle="tooltip" title="Amount invested/paid in tax saving instruments such as PPF, ELSS mutual funds, LIC premium, etc."><span class="fa fa-info-circle"></span></a> </label>
						<input  type="text" data-type="currency" id="inputD1"class="form-control">
					</div>							
				 </div>	
				<div class="col-lg-4">
					<div class="form-group">
						<label>Interest from Deposits - 80TTA   <a href="#" data-toggle="tooltip" title="Amount of interest income on deposits in savings account (includes fixed/recurring deposit interest in case of senior citizen)"><span class="fa fa-info-circle"></span></a> </label>
						<input  type="text" data-type="currency" id="inputD2"class="form-control">
					</div>							
				 </div>	
				 <div class="col-lg-4">
					<div class="form-group">
						<label>Medical Insurance - 80D    <a href="#" data-toggle="tooltip" title="Medical premium & preventive health checkup fees paid for self & family including parents"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="inputD3" class="form-control">
					</div>							
				 </div>			
			</div>
			<div class="row">
				<div class="col-lg-4">
					<div class="form-group">
						<label>Donations to Charity - 80G   <a href="#" data-toggle="tooltip" title="Amount paid as donation to charitable insitutions or certain recognized funds"><span class="fa fa-info-circle"></span></a> </label>
						<input type="text" data-type="currency" id="inputD4" class="form-control">
					</div>							
				 </div>	
				<div class="col-lg-4">
					<div class="form-group">
						<label>Interest on Educational Loan - 80E   <a href="#" data-toggle="tooltip" title="Amount of interest paid on loan taken for higher education"><span class="fa fa-info-circle"></span></a> </label>
						<input  type="text" data-type="currency" id="inputD5"class="form-control">
					</div>							
				 </div>	
				 <div class="col-lg-4">
					<div class="form-group">
						<label>Interest on Housing Loan - 80EEA   <a href="#" data-toggle="tooltip" title="Amount of interest paid on housing loan sanctioned during FY 19-20"><span class="fa fa-info-circle"></span></a> </label>
						<input  type="text" data-type="currency" id="inputD6"class="form-control">
					</div>							
				 </div>		
			</div>
			<div class="row">
				<div class="col-lg-4">
					<div class="form-group">
						<label>Employee's contribution to NPS - 80CCD   <a href="#" data-toggle="tooltip" title="Includes voluntary contribution to National Pension Scheme (NPS) under section 80CCD(1) and 80CCD(1B)"><span class="fa fa-info-circle"></span></a> </label>
						<input  type="text" data-type="currency" id="inputD7"class="form-control">
					</div>							
				 </div>	
				<div class="col-lg-4 text-center">
						<br>
						<button type="button" class="btn btn-success btn-lg" onclick="calculate()" data-toggle="modal" data-target="#myModal">Calculate</button>					
				 </div>	
				 <div class="col-lg-4 text-center">
						<br>
						<button type="button" class="btn btn-success btn-lg" onclick="reset()">Reset</button>						
				</div>			
			</div>
	</div>
</div><!-- panel 2 -->
</form>	
 <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title" id="myModalLabel">Summary</h4>
			</div>
			<div class="modal-body">
					<div class="table-responsive">
                                <table class="table table-striped" id="myTable">
                                   
                                        <tr>
                                            <th></th>
                                            <th>Old Regime</th>
                                            <th>New Regime</th>
                                        </tr>
                                        <tr>
                                            <td>Gross Total Income</td>
                                            <td>Rs. 13,70,000	</td>
                                            <td>Rs. 13,70,000</td>
                                        </tr>
                                        <tr>
                                            <td>Deductions</td>
                                            <td>Rs. 0</td>
                                            <td>Rs. 0</td>
                                        </tr>
										<tr>
                                            <td>Taxable Amount</td>
                                            <td>Rs. 0</td>
                                            <td>Rs. 0</td>
                                        </tr>
                                        <tr>
                                            <td>Tax due on above</td>
                                            <td>Rs. 2,32,440</td>
                                            <td>Rs. 1,66,400</td>
                                        </tr>
                                   
                                </table>
                            </div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<!--<button type="button" class="btn btn-primary">Save changes</button>-->
			</div>
		</div>
	</div>
</div>
</div> <!-- B CONTAINER -->             
<br>
<br>
  
<!--=============================================================== FOOTER =============================================================== -->
<div class="footer row-footer">
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				
				<p align="Left"> <b>@Copyright 2019 Naval Gohil</b></p>
			</div>
		</div> <!-- F ROW 1 -->
	</div> <!-- F CONTAINER -->
</div> <!-- FOOTER -->

<script  src="JS/jquery-1.11.3.min.js" ></script>
<script  src="JS/bootstrap.min.js" ></script>
<script  src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script> 
<script type="text/javascript">
           $(document).ready(function() {
				$('#example').DataTable({
					pagingType: 'full_numbers',
				});
				$(document).ready(function(){
				  $('[data-toggle="tooltip"]').tooltip();   
				});
				
			});
			$("input[data-type='currency']").on({
				keyup: function() {
				  formatCurrency($(this));
				},
				blur: function() { 
				  formatCurrency($(this), "blur");
				}
			});
			function formatNumber(n) {
			  // format number 1000000 to 1,234,567
			  return n.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",");
			}
			//https://codepen.io/559wade/pen/LRzEjj
			function formatCurrency(input, blur) {
			  // appends $ to value, validates decimal side
			  // and puts cursor back in right position.
			  
			  // get input value
			  var input_val = input.val();
			  
			  // don't validate empty input
			  if (input_val === "") { return; }
			  
			  // original length
			  var original_len = input_val.length;

			  // initial caret position 
			  var caret_pos = input.prop("selectionStart");
				
			  // check for decimal
			  if (input_val.indexOf(".") >= 0) {

				// get position of first decimal
				// this prevents multiple decimals from
				// being entered
				var decimal_pos = input_val.indexOf(".");

				// split number by decimal point
				var left_side = input_val.substring(0, decimal_pos);
				var right_side = input_val.substring(decimal_pos);

				// add commas to left side of number
				left_side = formatNumber(left_side);

				// validate right side
				right_side = formatNumber(right_side);
				
				// On blur make sure 2 numbers after decimal
				if (blur === "blur") {
				  right_side += "00";
				}
				
				// Limit decimal to only 2 digits
				right_side = right_side.substring(0, 2);

				// join number by .
				input_val = "₹" + left_side ;//+ "." + right_side;

			  } else {
				// no decimal entered
				// add commas to number
				// remove all non-digits
				input_val = formatNumber(input_val);
				input_val = "₹" + input_val;
				
				// final formatting
				if (blur === "blur") {
				  //input_val += ".00";
				   input_val += "";
				}
			  }
			  
			  // send updated string to input
			  input.val(input_val);

			  // put caret back in the right position
			  var updated_len = input_val.length;
			  caret_pos = updated_len - original_len + caret_pos;
			  input[0].setSelectionRange(caret_pos, caret_pos);
			}

			
			function calculate() {
					const  input1 = document.getElementById("input1").value ==""  ? 0 : document.getElementById("input1").value.replace("₹","").replaceAll(",","");
					const  input2 = document.getElementById("input2").value ==""  ? 0 : document.getElementById("input2").value.replace("₹","").replaceAll(",","");
					const  input3 = document.getElementById("input3").value ==""  ? 0 : document.getElementById("input3").value.replace("₹","").replaceAll(",","");
					const  input4 = document.getElementById("input4").value ==""  ? 0 : document.getElementById("input4").value.replace("₹","").replaceAll(",","");
					const  input5 = document.getElementById("input5").value ==""  ? 0 : document.getElementById("input5").value.replace("₹","").replaceAll(",","");
					const  input6 = document.getElementById("input6").value ==""  ? 0 : document.getElementById("input6").value.replace("₹","").replaceAll(",","");
					const  input7 = document.getElementById("input7").value ==""  ? 0 : document.getElementById("input7").value.replace("₹","").replaceAll(",","");
					const  input8 = document.getElementById("input8").value ==""  ? 0 : document.getElementById("input8").value.replace("₹","").replaceAll(",","");
					const  input66 = (Number(input6) * 70 ) / 100;
					const  income = Number(input1) + Number(input3) + Number(input4) + Number(input66)+ Number(input8);
					const  paid = Number(input2) + Number(input5) + Number(input7);
					var totalIncome = (income-paid)
					//alert(income+" and "+paid+"->"+totalIncome);
					
					const  inputD1 = document.getElementById("inputD1").value ==""  ? 0 : document.getElementById("inputD1").value.replace("₹","").replaceAll(",","");
					const  inputD2 = document.getElementById("inputD2").value ==""  ? 0 : document.getElementById("inputD2").value.replace("₹","").replaceAll(",","");
					const  inputD3 = document.getElementById("inputD3").value ==""  ? 0 : document.getElementById("inputD3").value.replace("₹","").replaceAll(",","");
					const  inputD4 = document.getElementById("inputD4").value ==""  ? 0 : document.getElementById("inputD4").value.replace("₹","").replaceAll(",","");
					const  inputD5 = document.getElementById("inputD5").value ==""  ? 0 : document.getElementById("inputD5").value.replace("₹","").replaceAll(",","");
					const  inputD6 = document.getElementById("inputD6").value ==""  ? 0 : document.getElementById("inputD6").value.replace("₹","").replaceAll(",","");
					const  inputD7 = document.getElementById("inputD7").value ==""  ? 0 : document.getElementById("inputD7").value.replace("₹","").replaceAll(",","");
					var  deduction = Number(inputD1) + Number(inputD2) + Number(inputD3) + Number(inputD4)+ Number(inputD5)+ Number(inputD6)+ Number(inputD7);					
					var taxableAmount = (totalIncome-deduction)
					//alert("taxableAmount--"+taxableAmount);
					var taxAmount=0;
					var dynamicTaxableAmount=taxableAmount;
					//₹ 10,50,000.00
					if(taxableAmount < 250000){
						taxAmount=0;
						//alert("A--"+taxAmount+"--"+dynamicTaxableAmount);
					}
					if(taxableAmount > 250001 && taxableAmount < 500000){
						dynamicTaxableAmount = dynamicTaxableAmount-250000;
						taxAmount=taxAmount+(taxableAmount * 5)/100;	
						taxAmount=(taxAmount * 4)/100;
						//alert("B--"+ taxAmount+"--"+dynamicTaxableAmount);
					}
					if(taxableAmount > 500001 && taxableAmount < 750000){
						dynamicTaxableAmount = dynamicTaxableAmount-500000;
						taxAmount=12500+(dynamicTaxableAmount * 20)/100;
						taxAmount=(taxAmount * 4)/100;
						//alert("C--"+ taxAmount+"--"+dynamicTaxableAmount);
					}
					if(taxableAmount > 750001 && taxableAmount < 100000){
						dynamicTaxableAmount = dynamicTaxableAmount-750000;
						taxAmount=12500+50000+(dynamicTaxableAmount * 20)/100;
						taxAmount=(taxAmount * 4)/100;
						//alert("C--"+ taxAmount+"--"+dynamicTaxableAmount);
					}
					if(taxableAmount > 1000001 ){
					    dynamicTaxableAmount = dynamicTaxableAmount-1000000;
						taxAmount=12500+50000+50000+(dynamicTaxableAmount * 30)/100;
						taxAmount=(taxAmount * 4)/100;
						//alert("D--"+ taxAmount+"--"+dynamicTaxableAmount);
					}
					var myTable = document.getElementById('myTable');
					totalIncome = formatNumber(totalIncome.toString());
					deduction = formatNumber(deduction.toString());
					taxableAmount = formatNumber(taxableAmount.toString());
					taxAmount = formatNumber(taxAmount.toString());
					
					myTable.rows[1].cells[1].innerHTML = "Rs."+totalIncome;
					myTable.rows[2].cells[1].innerHTML = "Rs."+deduction;
					myTable.rows[3].cells[1].innerHTML = "Rs."+taxableAmount;
					myTable.rows[4].cells[1].innerHTML = "Rs."+taxAmount;
					
					myTable.rows[1].cells[2].innerHTML = "Rs."+0;
					myTable.rows[2].cells[2].innerHTML = "Rs."+0;
					myTable.rows[3].cells[2].innerHTML = "Rs."+0;
					myTable.rows[4].cells[2].innerHTML = "Rs."+0;
					
			}
			function reset(){
				document.getElementById("input1").value="";
				document.getElementById("input2").value="";
				document.getElementById("input3").value="";
				document.getElementById("input4").value="";
				document.getElementById("input5").value="";
				document.getElementById("input6").value="";
				document.getElementById("input7").value="";
				document.getElementById("input8").value="";
				document.getElementById("inputD1").value="";
				document.getElementById("inputD2").value="";
				document.getElementById("inputD3").value="";
				document.getElementById("inputD4").value="";
				document.getElementById("inputD5").value="";
				document.getElementById("inputD6").value="";
				document.getElementById("inputD7").value="";
			
			}
			
			
</script>


</body>
</html>